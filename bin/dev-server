#!/bin/bash
# Create and set dedicated temporary directory for Bundler
mkdir -p /tmp/bundle_tmp
export TMPDIR=/tmp/bundle_tmp

# Unset DATABASE_URL to use database.yml configuration for SQLite3
unset DATABASE_URL
unset PGHOST
unset PGPORT
unset PGUSER
unset PGPASSWORD
unset PGDATABASE

# Fix for Node.js 17+ OpenSSL compatibility
export NODE_OPTIONS="--openssl-legacy-provider"

# Start Rails server
bundle exec rails server -b 0.0.0.0 -p 5000
